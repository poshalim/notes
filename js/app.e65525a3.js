(function(){"use strict";var t={7848:function(t,e,o){var n=o(9242),i=o(3396);const a={class:"notes"};function l(t,e,o,n,l,s){const r=(0,i.up)("my-notes-list"),u=(0,i.up)("my-current-note");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(r),(0,i.Wm)(u)])}var s=o(7139),r=o.p+"img/cart-icon.5ac30fd4.svg";const u={class:"notes-list__container"},c=["disabled"],d={class:"notes__list notes-list"},m=["onClick"],p={class:"notes-item__title"},g={class:"notes-item__text"},f=["onClick"],_=(0,i._)("img",{src:r,alt:"иконка корзины"},null,-1),v=[_];function b(t,e,o,n,a,l){return(0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("button",{class:(0,s.C_)(["notes__btn-add",{disabled:n.isDisabled}]),onClick:e[0]||(e[0]=t=>n.updateCurrentNote()),disabled:n.isDisabled}," Добавить новую заметку ",10,c),(0,i._)("ul",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.notes,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"notes__item notes-item",key:t.id},[(0,i._)("div",{class:(0,s.C_)(["notes-item__content",{active:t.id===n.currentNote?.id}]),onClick:e=>n.updateCurrentNote(t)},[(0,i._)("h4",p,(0,s.zw)(t.title),1),(0,i._)("p",g,(0,s.zw)(t.text),1)],10,m),(0,i._)("button",{class:"notes-item__btn-delete",onClick:e=>n.deleteNote(t.id)},v,8,f)])))),128))])])}var F=o(65),h={name:"MyNotesList",setup(){const t=(0,F.oR)(),e=(0,i.Fl)((()=>t.state.notes.currentNote)),o=(0,i.Fl)((()=>t.state.notes.notes)),n=(0,i.Fl)((()=>!(!e.value||e.value&&e.value?.id))),a=(e={title:"",text:"",images:[]})=>{t.dispatch("updateCurrentNote",e)},l=o=>{o===e.value?.id&&t.dispatch("updateCurrentNote",null),t.dispatch("deleteNote",o)};return{notes:o,currentNote:e,isDisabled:n,updateCurrentNote:a,deleteNote:l}}},y=o(89);const N=(0,y.Z)(h,[["render",b]]);var w=N;const C={key:0,class:"notes__current-note current-note"},I={class:"current-note__container"},S={class:"current-note-title__container"},x={key:0,class:"error"},M={class:"current-note__text-container"},k={key:0,class:"error"};function z(t,e,o,a,l,r){const u=(0,i.up)("my-toolbar"),c=(0,i.up)("my-upload-img"),d=(0,i.up)("my-note-images");return(0,i.wg)(),(0,i.j4)(n.uT,{name:"fade"},{default:(0,i.w5)((()=>[a.currentNote?((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("div",I,[(0,i.Wm)(u,{title:a.title,text:a.text},null,8,["title","text"]),(0,i._)("div",S,[(0,i.wy)((0,i._)("input",{class:"current-note__title",type:"text",placeholder:"Введите заголовок",maxlength:"60","onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t)},null,512),[[n.nr,a.title,void 0,{trim:!0}]]),a.title?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",x,"Пожалуйста, укажите заголовок!"))]),(0,i._)("div",M,[(0,i.wy)((0,i._)("textarea",{class:(0,s.C_)(["current-note__text",{bold:a.fontIsBold,italic:a.fontIsItalic}]),style:(0,s.j5)({fontFamily:a.currentFontFamily,fontSize:a.currentFontSize+"px"}),placeholder:"Введите текст","onUpdate:modelValue":e[1]||(e[1]=t=>a.text=t)},null,6),[[n.nr,a.text,void 0,{trim:!0}]]),a.text?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",k,"Пожалуйста, введите текст!")),(0,i.Wm)(c)]),(0,i.Wm)(d)])])):(0,i.kq)("",!0)])),_:1})}const D={class:"current-note__toolbar toolbar"},B=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[(0,i._)("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})],-1),V=[B],O=["disabled"],H={class:"toolbar__font"},q={class:"toolbar__font-size-container"},T=["disabled"],L=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[(0,i._)("path",{d:"M416 256c0 17.7-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"})],-1),P=[L],Z={class:"toolbar__font-size"},j=["disabled"],W=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[(0,i._)("path",{d:"M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z"})],-1),R=[W],Y=["value"],J=(0,i._)("b",null,"Ж",-1),U=[J],E=(0,i._)("em",null,"К",-1),K=[E];function A(t,e,o,a,l,r){return(0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("button",{class:"current-note__btn-back",onClick:e[0]||(e[0]=(...t)=>a.updateCurrentNote&&a.updateCurrentNote(...t))},V),(0,i._)("button",{class:(0,s.C_)(["current-note__btn-save",{disabled:!o.title||!o.text}]),onClick:e[1]||(e[1]=(...t)=>a.editCurrentNote&&a.editCurrentNote(...t)),disabled:!o.title||!o.text}," Сохранить изменения ",10,O),(0,i._)("div",H,[(0,i._)("div",q,[(0,i._)("button",{class:(0,s.C_)(["toolbar__font-size-btn",{disabled:8===a.currentFontSize}]),onClick:e[2]||(e[2]=(...t)=>a.decreaseFontSize&&a.decreaseFontSize(...t)),disabled:8===a.currentFontSize},P,10,T),(0,i._)("div",Z,(0,s.zw)(a.currentFontSize),1),(0,i._)("button",{class:(0,s.C_)(["toolbar__font-size-btn",{disabled:72===a.currentFontSize}]),onClick:e[3]||(e[3]=(...t)=>a.increaseFontSize&&a.increaseFontSize(...t)),disabled:72===a.currentFontSize},R,10,j)]),(0,i.wy)((0,i._)("select",{class:"toolbar__select",name:"fontFamily",id:"fontFamily","onUpdate:modelValue":e[4]||(e[4]=t=>a.currentFontFamily=t)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.fontFamily,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,s.zw)(t),9,Y)))),128))],512),[[n.bM,a.currentFontFamily]]),(0,i._)("button",{class:(0,s.C_)(["toolbar__btn-bold",{"toolbar__btn-bold--active":a.fontIsBold}]),onClick:e[5]||(e[5]=(...t)=>a.updateFontWeight&&a.updateFontWeight(...t))},U,2),(0,i._)("button",{class:(0,s.C_)(["toolbar__btn-italic",{"toolbar__btn-bold--active":a.fontIsItalic}]),onClick:e[6]||(e[6]=(...t)=>a.updateFontStyle&&a.updateFontStyle(...t))},K,2)])])}var Q=o(4870),G={name:"MyToolbar",props:["title","text"],setup(t){const e=(0,F.oR)(),o=(0,i.Fl)((()=>e.state.notes.currentNote)),n=(0,i.Fl)((()=>e.state.font.font.fontSize)),a=(0,i.Fl)((()=>e.state.font.fontSizes)),l=(0,Q.iH)("Montserrat"),s=(0,i.Fl)((()=>e.state.font.fontFamily)),r=(0,i.Fl)((()=>e.state.font.font.fontIsBold)),u=(0,i.Fl)((()=>e.state.font.font.fontIsItalic)),c=()=>{e.dispatch("updateCurrentNote",null)},d=()=>{o.value.id?e.dispatch("updateNote",{title:t.title,text:t.text}):e.dispatch("createNote",{id:Date.now(),title:t.title,text:t.text,images:o.value.images})},m=()=>{e.dispatch("updateFontSize",a.value[a.value.findIndex((t=>t===n.value))-1])},p=()=>{e.dispatch("updateFontSize",a.value[a.value.findIndex((t=>t===n.value))+1])},g=()=>{e.dispatch("updateFontIsBold")},f=()=>{e.dispatch("updateFontStyle")};return(0,i.YP)(l,(t=>{e.dispatch("updateFontFamily",t)})),(0,i.bv)((()=>{l.value=e.state.font.font.fontFamily})),{currentFontSize:n,currentFontFamily:l,fontFamily:s,fontIsBold:r,fontIsItalic:u,updateCurrentNote:c,editCurrentNote:d,decreaseFontSize:m,increaseFontSize:p,updateFontWeight:g,updateFontStyle:f}}};const $=(0,y.Z)(G,[["render",A]]);var X=$;const tt=(0,i.uE)('<g clip-path="url(#clip0_106_3901)"><path d="M15.9991 20.2667C18.3555 20.2667 20.2658 18.3565 20.2658 16.0001C20.2658 13.6436 18.3555 11.7334 15.9991 11.7334C13.6427 11.7334 11.7324 13.6436 11.7324 16.0001C11.7324 18.3565 13.6427 20.2667 15.9991 20.2667Z" fill="#BBBDC1"></path><path d="M11.9993 2.66699L9.55935 5.33366H5.33268C3.86602 5.33366 2.66602 6.53366 2.66602 8.00033V24.0003C2.66602 25.467 3.86602 26.667 5.33268 26.667H26.666C28.1327 26.667 29.3327 25.467 29.3327 24.0003V8.00033C29.3327 6.53366 28.1327 5.33366 26.666 5.33366H22.4394L19.9993 2.66699H11.9993ZM15.9993 22.667C12.3193 22.667 9.33268 19.6803 9.33268 16.0003C9.33268 12.3203 12.3193 9.33366 15.9993 9.33366C19.6793 9.33366 22.666 12.3203 22.666 16.0003C22.666 19.6803 19.6793 22.667 15.9993 22.667Z" fill="#BBBDC1"></path></g><defs><clipPath id="clip0_106_3901"><rect width="32" height="32" fill="white"></rect></clipPath></defs>',2),et=[tt];function ot(t,e,o,n,a,l){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("input",{type:"file",name:"",id:"upload-file",hidden:"hidden",ref:"uploadImg",onChange:e[0]||(e[0]=(...t)=>n.addImgToNote&&n.addImgToNote(...t))},null,544),((0,i.wg)(),(0,i.iD)("svg",{class:"current-note__btn-add",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:e[1]||(e[1]=t=>n.uploadImg.click())},et))])}var nt={name:"MyUploadImg",setup(){const t=(0,F.oR)(),e=(0,Q.iH)(null),o=()=>{let o=e.value.files[0];if("image"===o.type.split("/")[0]){let e=new FileReader;e.readAsDataURL(o),e.onload=function(){t.dispatch("addImgToNote",e.result)}}else alert("Вы можете прикрепить только изображение!")};return{uploadImg:e,addImgToNote:o}}};const it=(0,y.Z)(nt,[["render",ot]]);var at=it;const lt={key:0},st=(0,i._)("h2",null,"Прикрепленные изображения:",-1),rt={class:"current-note__images"},ut=["src","onClick"],ct=["onClick"],dt=["src"];function mt(t,e,o,n,a,l){const s=(0,i.up)("my-modal");return(0,i.wg)(),(0,i.iD)("div",null,[n.currentNote?.images?.length?((0,i.wg)(),(0,i.iD)("div",lt,[st,(0,i._)("div",rt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.currentNote.images,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"current-note__img-container",key:t},[(0,i._)("img",{src:t,alt:"img",onClick:e=>n.toggleVisibleModal(t)},null,8,ut),(0,i._)("div",{class:"current-note__img-close",onClick:e=>n.deleteImg(t)},null,8,ct)])))),128))])])):(0,i.kq)("",!0),n.isModalOpen?((0,i.wg)(),(0,i.j4)(s,{key:1,onToggleVisibleModal:n.toggleVisibleModal},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"current-note__img-item",src:n.currentImage,alt:"img"},null,8,dt),(0,i._)("div",{class:"current-note__img-close",onClick:e[0]||(e[0]=(...t)=>n.toggleVisibleModal&&n.toggleVisibleModal(...t))})])),_:1},8,["onToggleVisibleModal"])):(0,i.kq)("",!0)])}const pt={class:"modal"},gt={class:"modal__content"};function ft(t,e,o,n,a,l){return(0,i.wg)(),(0,i.iD)("div",pt,[(0,i._)("div",{class:"modal__bg",onClick:e[0]||(e[0]=(...t)=>n.toggleVisibleModal&&n.toggleVisibleModal(...t))},[(0,i._)("div",gt,[(0,i.WI)(t.$slots,"default")])])])}var _t={name:"MyModal",emits:["toggle-visible-modal"],setup(t,e){const o=()=>{e.emit("toggle-visible-modal")};return{toggleVisibleModal:o}}};const vt=(0,y.Z)(_t,[["render",ft]]);var bt=vt,Ft={name:"MyNoteImages",components:{MyModal:bt},setup(){const t=(0,F.oR)(),e=(0,i.Fl)((()=>t.state.notes.currentNote)),o=(0,Q.iH)(null),n=(0,Q.iH)(!1),a=e=>{t.dispatch("deleteImg",e)},l=(t=null)=>{o.value=t,n.value=!n.value};return{currentNote:e,currentImage:o,isModalOpen:n,deleteImg:a,toggleVisibleModal:l}}};const ht=(0,y.Z)(Ft,[["render",mt]]);var yt=ht,Nt={name:"MyCurrentNote",components:{MyToolbar:X,MyNoteImages:yt,MyUploadImg:at},setup(){const t=(0,F.oR)(),e=(0,i.Fl)((()=>t.state.notes.currentNote)),o=(0,Q.iH)(null),n=(0,Q.iH)(null),a=(0,i.Fl)((()=>t.state.font.font.fontIsBold)),l=(0,i.Fl)((()=>t.state.font.font.fontIsItalic)),s=(0,i.Fl)((()=>t.state.font.font.fontFamily)),r=(0,i.Fl)((()=>t.state.font.font.fontSize));return(0,i.YP)(e,(t=>{t&&(o.value=t.title,n.value=t.text)})),{currentNote:e,title:o,text:n,fontIsBold:a,fontIsItalic:l,currentFontFamily:s,currentFontSize:r}}};const wt=(0,y.Z)(Nt,[["render",z]]);var Ct=wt,It={name:"MyApp",components:{MyNotesList:w,MyCurrentNote:Ct},setup(){const t=(0,F.oR)(),e=(0,i.Fl)((()=>t.state.notes.notes)),o=(0,i.Fl)((()=>t.state.font.font));(0,i.bv)((()=>{const e=JSON.parse(localStorage.getItem("notes"));e?.length&&t.dispatch("getNotes",e);const o=JSON.parse(localStorage.getItem("font"));o&&t.dispatch("getFont",o)})),(0,i.YP)(e,(t=>{localStorage.setItem("notes",JSON.stringify(t))}),{deep:!0}),(0,i.YP)(o,(t=>{localStorage.setItem("font",JSON.stringify(t))}),{deep:!0}),window.addEventListener("storage",(e=>{t.dispatch("getNotes",JSON.parse(e.newValue)),t.dispatch("getFont",JSON.parse(e.newValue))}))}};const St=(0,y.Z)(It,[["render",l]]);var xt=St;o(7658);const Mt={notes:[{id:1,title:"Это заголовок первой тестовой заметки!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat aliquid ut repudiandae qui praesentium doloremque. Quam consequuntur voluptates dolor voluptate tempore voluptatibus commodi, sapiente repudiandae sunt similique tempora earum aspernatur omnis eius corporis aut hic, ea, cumque et distinctio modi dolore ipsum quis? Fugiat similique nemo voluptatum laborum? Consectetur possimus hic veritatis repudiandae quia nemo? Perspiciatis est ipsum deleniti id tempora, ab veniam enim provident accusamus hic asperiores aspernatur magni assumenda at dignissimos iste tempore molestias repellendus corrupti culpa soluta dolore exercitationem maiores. Qui dolorem laudantium commodi incidunt nihil dolores quidem? Modi omnis delectus eum asperiores, quae veniam dolorem iusto! Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minus, beatae accusamus? Sit, harum dignissimos reprehenderit molestias ab ipsum enim hic.",images:[]}],currentNote:null},kt={getNotes(t,e){t.notes=e},updateCurrentNote(t,e){t.currentNote=e},createNote(t){t.notes.push(t.currentNote)},updateNote(t,{title:e,text:o}){t.currentNote.title=e,t.currentNote.text=o},deleteNote(t,e){t.notes=t.notes.filter((t=>t.id!==e))},addImgToNote(t,e){t.currentNote.images.push(e)},deleteImg(t,e){t.currentNote.images=t.currentNote.images.filter((t=>t!==e))}},zt={getNotes(t,e){t.commit("getNotes",e)},updateCurrentNote(t,e){t.commit("updateCurrentNote",e)},createNote(t,e){t.commit("updateCurrentNote",e),t.commit("createNote")},updateNote(t,e){t.commit("updateNote",e)},deleteNote(t,e){t.commit("deleteNote",e)},addImgToNote(t,e){t.commit("addImgToNote",e)},deleteImg(t,e){t.commit("deleteImg",e)}};var Dt={state:Mt,mutations:kt,actions:zt};const Bt={font:{fontSize:16,fontFamily:"Montserrat",fontIsBold:!1,fontIsItalic:!1},fontSizes:[8,9,10,11,12,14,16,18,20,22,24,30,36,48,60,72],fontFamily:["Helvetica","Verdana","Georgia","Montserrat"]},Vt={getFont(t,e){t.font=e},updateFontIsBold(t){t.font.fontIsBold=!t.font.fontIsBold},updateFontStyle(t){t.font.fontIsItalic=!t.font.fontIsItalic},updateFontFamily(t,e){t.font.fontFamily=e},updateFontSize(t,e){t.font.fontSize=e}},Ot={getFont(t,e){t.commit("getFont",e)},updateFontIsBold(t){t.commit("updateFontIsBold")},updateFontStyle(t){t.commit("updateFontStyle")},updateFontFamily(t,e){t.commit("updateFontFamily",e)},updateFontSize(t,e){t.commit("updateFontSize",e)}};var Ht={state:Bt,mutations:Vt,actions:Ot},qt=(0,F.MT)({state:{},getters:{},mutations:{},actions:{},modules:{notes:Dt,font:Ht}});(0,n.ri)(xt).use(qt).mount("#app")}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,i,a){if(!n){var l=1/0;for(c=0;c<t.length;c++){n=t[c][0],i=t[c][1],a=t[c][2];for(var s=!0,r=0;r<n.length;r++)(!1&a||l>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[r])}))?n.splice(r--,1):(s=!1,a<l&&(l=a));if(s){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,i,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/notes/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,l=n[0],s=n[1],r=n[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(r)var c=r(o)}for(e&&e(n);u<l.length;u++)a=l[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkmy_notes"]=self["webpackChunkmy_notes"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7848)}));n=o.O(n)})();
//# sourceMappingURL=app.e65525a3.js.map